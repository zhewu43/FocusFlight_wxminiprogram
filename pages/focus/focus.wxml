<!--pages/focus/focus.wxml-->
<view class="container">
  <!-- èˆªç­ä¿¡æ¯å¤´éƒ¨ -->
  <view class="flight-header">
    <view class="flight-route">
      <text class="city-name">{{fromCity}}</text>
      <view class="flight-arrow">
        <text class="arrow">â†’</text>
        <text class="plane-icon">âœˆï¸</text>
      </view>
      <text class="city-name">{{toCity}}</text>
    </view>
    <view class="flight-details">
      <text class="flight-number">{{flightNumber}}</text>
      <text class="flight-distance">{{distance}}å…¬é‡Œ</text>
    </view>
  </view>

  <!-- ä¸“æ³¨çŠ¶æ€æ˜¾ç¤º -->
  <view class="focus-status">
    <view class="status-text">{{statusText}}</view>
    <view class="altitude">é£è¡Œé«˜åº¦: {{altitude}}ç±³</view>
  </view>

  <!-- å€’è®¡æ—¶æ˜¾ç¤º -->
  <view class="timer-display">
    <view class="time-text">
      <text class="time-main">{{displayTime}}</text>
      <text class="time-label">å‰©ä½™æ—¶é—´</text>
    </view>
    
    <!-- ç«–çº¿è¿›åº¦æ¡ -->
    <view class="vertical-progress">
      <view class="progress-track">
        <view class="progress-bar" style="height: {{progressPercent}}%"></view>
        <view class="progress-indicator" style="bottom: {{progressPercent}}%">
          <text class="plane-indicator">âœˆï¸</text>
        </view>
      </view>
      <view class="progress-labels">
        <text class="end-label">{{toCity}}</text>
        <text class="start-label">{{fromCity}}</text>
      </view>
    </view>
  </view>

  <!-- è¿›åº¦ä¿¡æ¯ -->
  <view class="progress-info">
    <view class="progress-item">
      <text class="progress-label">å·²ä¸“æ³¨</text>
      <text class="progress-value">{{focusedTime}}</text>
    </view>
    <view class="progress-item">
      <text class="progress-label">å®Œæˆåº¦</text>
      <text class="progress-value">{{progressPercent}}%</text>
    </view>
  </view>

  <!-- æ§åˆ¶æŒ‰é’® -->
  <view class="control-buttons">
    <button class="control-btn pause-btn" bindtap="togglePause" wx:if="{{!isCompleted}}">
      {{isPaused ? 'ç»§ç»­é£è¡Œ' : 'æš‚åœé£è¡Œ'}}
    </button>
    <button class="control-btn stop-btn" bindtap="stopFocus" wx:if="{{!isCompleted}}">
      å–æ¶ˆèˆªç­
    </button>
    <button class="control-btn complete-btn" bindtap="backToHome" wx:if="{{isCompleted}}">
      è¿”å›é¦–é¡µ
    </button>
  </view>

  <!-- å®Œæˆåº†ç¥ -->
  <view class="celebration" wx:if="{{showCelebration}}">
    <view class="celebration-content">
      <text class="celebration-icon">ğŸ‰</text>
      <text class="celebration-title">èˆªç­å·²åˆ°è¾¾ï¼</text>
      <text class="celebration-subtitle">æ­å–œå®Œæˆ {{totalDuration}} åˆ†é’Ÿçš„ä¸“æ³¨æ—¶å…‰</text>
      <view class="celebration-stats">
        <view class="stat-item">
          <text class="stat-value">{{distance}}</text>
          <text class="stat-label">å…¬é‡Œ</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{totalDuration}}</text>
          <text class="stat-label">åˆ†é’Ÿ</text>
        </view>
      </view>
    </view>
  </view>
</view>