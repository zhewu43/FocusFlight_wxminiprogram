# FocusFlight 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
FocusFlight是一款专注力管理微信小程序，通过航班预订的创新交互方式，帮助用户建立和维持专注习惯。

### 1.2 目标用户
- 需要提升专注力的学生、职场人士
- 喜欢游戏化体验的用户
- 微信生态用户

### 1.3 核心价值
- 创新的航班式专注时间设定
- 简单直观的操作体验
- 基于真实地理位置的时间计算

## 2. 功能需求

### 2.1 核心功能模块

#### 2.1.1 用户系统
**功能描述：** 基于微信账号的用户登录和信息管理
- **飞行员ID系统**：
  - 未登录用户：自动分配临时飞行员ID（格式：FF123456）
  - 已登录用户：升级为认证飞行员ID（格式：FL12345678）
  - 显示"游客飞行员"或真实微信昵称
- **微信一键登录**：快速授权登录
- **用户信息展示**：头像、昵称、飞行员ID、登录状态
- **专注历史记录**：完整的专注数据统计
- **数据统计规则**：只统计成功完成的航班（completed: true）

#### 2.1.2 航班选择系统
**功能描述：** 模拟航班预订界面，选择起始地和目的地
- **智能定位系统**：
  - 精确地理定位：排除虚拟城市，匹配真实地理位置
  - 手动城市选择：支持真实城市和虚拟地点（家、公司）
- **目的地选择**：从预设城市列表中选择
- **智能时间计算**：
  - 热门航线：使用预设时间，确保显示与实际专注时间一致
  - 手动选择：根据地理距离自动计算专注时长（5-180分钟）
- **热门航线推荐**：预设不同时长的专注选项（5/10/15/20/30分钟）
- **航班信息展示**：航班号、起飞时间等模拟信息

#### 2.1.3 专注计时器
**功能描述：** 执行专注任务的核心功能
- 倒计时显示
- 暂停/继续功能
- 背景音效（可选）
- 专注状态可视化
- 完成提醒

#### 2.1.4 社交分享系统
**功能描述：** 用户专注成果分享功能
- **双分享按钮设计**：
  - 💬 分享给好友（绿色主题）
  - 🌟 分享朋友圈（黄色主题）
- **布局设计**：上下排列，按钮宽度190-230rpx，居中对齐
- **动态内容生成**：基于用户专注统计数据自动生成分享文案
- **用户引导**：朋友圈分享提供清晰操作指引
- **分享内容模板**：`我在FocusFlight已完成{totalFlights}次专注飞行，累计{totalHours}！`

#### 2.1.5 设置中心
**功能描述：** 个性化设置和偏好管理
- 默认起始城市设置
- 提醒设置
- 音效开关
- 数据统计查看
- 关于页面和意见反馈

#### 2.1.5 社交分享系统
**功能描述：** 用户专注成果分享功能
- 分享给好友功能
- 分享到朋友圈功能
- 动态分享内容生成（基于用户专注统计数据）
- 分享按钮UI优化设计

### 2.2 页面结构

#### 2.2.1 主要页面
1. **首页** - 航班选择界面
2. **专注页** - 计时器执行页面
3. **个人中心** - 用户信息、历史记录和社交分享
4. **设置页** - 各项设置选项
# FocusFlight 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
FocusFlight是一款专注力管理微信小程序，通过航班预订的创新交互方式，帮助用户建立和维持专注习惯。

### 1.2 目标用户
- 需要提升专注力的学生、职场人士
- 喜欢游戏化体验的用户
- 微信生态用户

### 1.3 核心价值
- 创新的航班式专注时间设定
- 简单直观的操作体验
- 基于真实地理位置的时间计算

## 2. 功能需求

### 2.1 核心功能模块

#### 2.1.1 用户系统
**功能描述：** 基于微信账号的用户登录和信息管理
- 微信一键登录
- 用户基本信息展示（头像、昵称）
- 专注历史记录
- 成就系统（可选）

#### 2.1.2 航班选择系统
**功能描述：** 模拟航班预订界面，选择起始地和目的地
- 当前位置自动定位（默认起始地）
- 目的地城市选择
- 实时显示"航班时长"（专注时间）
- 热门航线推荐
- 航班信息展示（航班号、起飞时间等模拟信息）

#### 2.1.3 专注计时器
**功能描述：** 执行专注任务的核心功能
- 倒计时显示
- 暂停/继续功能
- 背景音效（可选）
- 专注状态可视化
- 完成提醒

#### 2.1.4 设置中心
**功能描述：** 个性化设置和偏好管理
- 默认起始城市设置
- 提醒设置
- 音效开关
- 数据统计查看
- 关于页面

#### 2.1.5 社交分享系统
**功能描述：** 用户专注成果分享功能
- 分享给好友功能
- 分享到朋友圈功能
- 动态分享内容生成（基于用户专注统计数据）
- 分享按钮UI优化设计

### 2.2 页面结构


## 3. 技术需求

### 3.1 数据需求
- 城市数据库（城市名称、坐标、时区）
- 航班时长计算算法
- 用户专注记录存储

### 3.2 API需求
- 微信登录API
- 地理位置API
- 本地存储API

## 4. 确定的产品规格

### 4.1 时间计算方式
- **算法：** 基于城市间直线距离计算飞行时间
- **计算公式：** 距离(km) ÷ 800(km/h) = 飞行时间
- **时间范围：** 15分钟 - 3小时
- **最小单位：** 5分钟

### 4.2 城市数据
- **范围：** 仅限中国主要城市（省会城市 + 重点城市）
- **数量：** 约50个主要城市
- **数据包含：** 城市名称、经纬度坐标、时区

### 4.3 功能范围（V1.0简单版）
- **存储方式：** 微信小程序本地存储
- **统计功能：** 基础专注时长统计、历史记录
- **游戏化：** 简单的里程累积显示
- **扩展性：** 预留接口，便于后续添加云存储和高级功能

## 5. 详细功能设计

### 5.1 航班选择页面
**交互流程：**
1. 自动获取用户当前城市作为起始地
2. 用户选择目的地城市
3. 实时计算并显示"航班时长"
4. 展示模拟航班信息（航班号、起飞时间等）
5. 确认"预订航班"开始专注

**页面元素：**
- 起始地选择器（可修改）
- 目的地城市列表
- 航班信息卡片
- 时长显示
- 确认按钮

### 5.2 专注执行页面
**功能特性：**
- 倒计时显示（大字体）
- 航班信息展示（起始地→目的地）
- 暂停/继续按钮
- 放弃航班按钮
- 进度条显示
- 完成庆祝动画

### 5.3 个人中心页面
**内容包含：**
- 用户头像和昵称（微信授权）
- 总专注时长统计
- 本周专注统计
- 历史航班记录
- 累计"飞行里程"

### 5.4 设置页面
**设置项：**
- 默认起始城市
- 提醒设置（完成提醒音）
- 数据清除
- 关于页面

### 5.5 社交分享功能
**功能特性：**
- 双分享按钮设计（分享给好友 + 分享朋友圈）
- 动态分享内容生成
- 视觉差异化设计（不同颜色主题）
- 响应式按钮布局

**交互设计：**
- 分享给好友：💬 图标，绿色主题
- 分享朋友圈：🌟 图标，黄色主题
- 按钮上下排列，居中对齐
- 按钮尺寸：190-230rpx宽度，自适应内容

**分享内容模板：**
```
我在FocusFlight已完成{totalFlights}次专注飞行，累计{totalHours}！
```

## 6. 技术实现方案

### 6.1 数据结构
```javascript
// 城市数据
const cities = [
  { id: 1, name: '北京', lat: 39.9042, lng: 116.4074 },
  { id: 2, name: '上海', lat: 31.2304, lng: 121.4737 },
  // ...
];

// 专注记录
const focusRecord = {
  id: timestamp,
  fromCity: '北京',
  toCity: '上海',
  duration: 120, // 分钟
  startTime: timestamp,
  endTime: timestamp,
  completed: true
};
```

### 6.2 核心算法
```javascript
// 距离计算（球面距离公式）
function calculateDistance(lat1, lng1, lat2, lng2) {
  // Haversine公式实现
}

// 时间计算
function calculateFlightTime(distance) {
  const speed = 800; // km/h
  const timeInHours = distance / speed;
  const timeInMinutes = Math.round(timeInHours * 60);
  
  // 限制在15分钟-3小时范围内
  return Math.max(15, Math.min(180, timeInMinutes));
}
```

## 7. 开发计划

### Phase 1: 基础框架（1-2天）
- 小程序基础结构搭建
- 页面路由配置
- 基础UI组件

### Phase 2: 核心功能（2-3天）
- 城市数据和距离计算
- 航班选择功能
- 专注计时器

### Phase 3: 用户系统（1天）
- 微信登录集成
- 本地数据存储
- 个人中心页面

### Phase 4: 完善优化（1天）
- UI美化和动画
- 测试和bug修复
- 性能优化
# FocusFlight 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
FocusFlight是一款专注力管理微信小程序，通过航班预订的创新交互方式，帮助用户建立和维持专注习惯。

### 1.2 目标用户
- 需要提升专注力的学生、职场人士
- 喜欢游戏化体验的用户
- 微信生态用户

### 1.3 核心价值
- 创新的航班式专注时间设定
- 简单直观的操作体验
- 基于真实地理位置的时间计算

## 2. 功能需求

### 2.1 核心功能模块

#### 2.1.1 用户系统
**功能描述：** 基于微信账号的用户登录和信息管理
- 微信一键登录
- 用户基本信息展示（头像、昵称）
- 专注历史记录
- 成就系统（可选）

#### 2.1.2 航班选择系统
**功能描述：** 模拟航班预订界面，选择起始地和目的地
- 当前位置自动定位（默认起始地）
- 目的地城市选择
- 实时显示"航班时长"（专注时间）
- 热门航线推荐
- 航班信息展示（航班号、起飞时间等模拟信息）

#### 2.1.3 专注计时器
**功能描述：** 执行专注任务的核心功能
- 倒计时显示
- 暂停/继续功能
- 背景音效（可选）
- 专注状态可视化
- 完成提醒

#### 2.1.4 设置中心
**功能描述：** 个性化设置和偏好管理
- 默认起始城市设置
- 提醒设置
- 音效开关
- 数据统计查看
- 关于页面

### 2.2 页面结构

#### 2.2.1 主要页面
1. **首页** - 航班选择界面
2. **专注页** - 计时器执行页面
3. **个人中心** - 用户信息和历史记录
4. **设置页** - 各项设置选项

## 3. 技术需求

### 3.1 数据需求
- 城市数据库（城市名称、坐标、时区）
- 航班时长计算算法
- 用户专注记录存储

### 3.2 API需求
- 微信登录API
- 地理位置API
- 本地存储API

# FocusFlight 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位
FocusFlight是一款专注力管理微信小程序，通过航班预订的创新交互方式，帮助用户建立和维持专注习惯。

### 1.2 目标用户
- 需要提升专注力的学生、职场人士
- 喜欢游戏化体验的用户
- 微信生态用户

### 1.3 核心价值
- 创新的航班式专注时间设定
- 简单直观的操作体验
- 基于真实地理位置的时间计算

## 2. 功能需求

### 2.1 核心功能模块

#### 2.1.1 用户系统
**功能描述：** 基于微信账号的用户登录和信息管理
- 微信一键登录
- 用户基本信息展示（头像、昵称）
- 专注历史记录
- 成就系统（可选）

#### 2.1.2 航班选择系统
**功能描述：** 模拟航班预订界面，选择起始地和目的地
- 当前位置自动定位（默认起始地）
- 目的地城市选择
- 实时显示"航班时长"（专注时间）
- 热门航线推荐
- 航班信息展示（航班号、起飞时间等模拟信息）

#### 2.1.3 专注计时器
**功能描述：** 执行专注任务的核心功能
- 倒计时显示
- 暂停/继续功能
- 背景音效（可选）
- 专注状态可视化
- 完成提醒

#### 2.1.4 设置中心
**功能描述：** 个性化设置和偏好管理
- 默认起始城市设置
- 提醒设置
- 音效开关
- 数据统计查看
- 关于页面

### 2.2 页面结构

#### 2.2.1 主要页面
1. **首页** - 航班选择界面
2. **专注页** - 计时器执行页面
3. **个人中心** - 用户信息和历史记录
4. **设置页** - 各项设置选项

## 3. 技术需求

### 3.1 数据需求
- 城市数据库（城市名称、坐标、时区）
- 航班时长计算算法
- 用户专注记录存储

### 3.2 API需求
- 微信登录API
- 地理位置API
- 本地存储API

## 4. 待确认问题

在继续详细设计前，我需要确认以下几个关键问题：

1. **时间计算方式：**
   - 是否基于真实的航班飞行时间？
   - 还是基于城市间的直线距离计算？
   - 时间范围控制（最短/最长专注时间）？

2. **城市范围：**
   - 仅限中国城市还是包含国际城市？
   - 是否需要包含知名景点作为目的地？

3. **专注模式：**
   - 是否需要不同的专注模式（学习、工作、休息等）？
   - 是否需要白噪音或背景音乐？

4. **数据存储：**
   - 专注记录是否需要云端同步？
   - 是否需要好友功能或排行榜？

5. **游戏化元素：**
   - 是否需要积分、等级、成就系统？
   - 是否需要虚拟奖励（如里程、勋章等）？

请告诉我你对这些问题的想法，这样我可以完善PRD并开始具体的设计和开发工作。